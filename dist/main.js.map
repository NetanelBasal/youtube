{"version":3,"sources":["node_modules/browserify/node_modules/browser-pack/_prelude.js","app/main.js","app/common/wait-me.js","app/config.js","app/config/config.index.js","app/config/run.phase.js","app/modules.js","app/services/services.index.js","app/services/youtube.service.js","app/youtube/index.js","app/youtube/youtube.directive.js","app/youtubeList/index.js","app/youtubeList/youtubeList.directive.js","app/youtubeSearch/index.js","app/youtubeSearch/youtubeSearch.directive.js","app/youtubeVideo/index.js","app/youtubeVideo/youtubeVideo.directive.js"],"names":[],"mappings":"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","file":"main.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function() {\n  'use strict'\n  var modules = require('./modules');\n\n  require('./common/wait-me');\n\n  /************************** APP internal modules **********************/\n\n  require('./services/services.index');\n\n  const app = angular.module(require('./config').appName, modules)\n\n    .config(require('./config/config.index'))\n\n    .run(require('./config/run.phase.js'))\n\n  require('./youtube')(app);\n  require('./youtubeSearch')(app);\n  require('./youtubeList')(app);\n  require('./youtubeVideo')(app);\n\n})();\n\n\n","(function() {\n  'use strict'\n\n  //@ngInject\n  function waitMe() {\n    return {\n      restrict: 'A',\n      link    : link\n    }\n\n    function link( $scope, elem, attr ) {\n      $scope.$watch('waitMe', function( show ) {\n        if( show === true ) {\n          elem\n            .waitMe({\n              effect: attr.shape,\n              text  : attr.text,\n              bg    : 'rgba(0,0,0,0.7)',\n              color : '#000',\n              sizeW : '',\n              sizeH : ''\n            });\n        } else {\n          elem.waitMe(\"hide\");\n        }\n      })\n    }\n  }\n\n  angular.module('wait.me', [])\n    .directive('waitMe', waitMe);\n\n})();\n","exports.appName = 'youtube';","// @ngInject\nfunction config() {\n\n\n\n}\n\nexport default config;","// @ngInject\nfunction runPhase( ) {\n\n\n}\n\nexport default runPhase;","'use strict'\n\nexport default  [\n\n/** Third party modules **/\n\n  'wait.me',\n\n/** Local modules **/\n  'services'\n];\n\n\n\n","import youtubeFactory from './youtube.service.js';\n\n\nangular.module('services', []).factory('youtubeFactory', youtubeFactory);","// @ngInject\nexport default function youtubeFactory( $http ) {\n\n  const URL_API = 'https://www.googleapis.com/youtube/v3/search';\n  const YOUTUBE_URL = 'http://www.youtube.com/embed/';\n  const VIDEO_API = 'https://www.googleapis.com/youtube/v3/videos';\n  const API_KEY = 'AIzaSyBsobUXzJvjjuHZsMiv7SZAkzVcSgc8F2c';\n  let _videos = [];\n  let _video = null;\n\n  /**\n   *\n   * @param query\n   */\n  function searchVideos( query ) {\n\n    $http.get(URL_API, {\n      params: {\n        part      : 'id,snippet',\n        fields    : 'items/id/videoId,items/snippet/title,items/snippet/description,items/snippet/thumbnails/default',\n        maxResults: '5',\n        key       : API_KEY,\n        q         : query\n      }\n    }).then(( res ) => {\n      let videos = res.data.items;\n      setVideos(videos, () => {\n        setVideo(getVideos()[0]);\n      });\n    });\n\n  }\n\n  /**\n   *\n   * @returns {Array}\n   */\n  function getVideos() {\n    return _videos;\n  }\n\n  /**\n   * Not all the videos have videoID so i need to filter\n   * to not get an error or an empty screen\n   * @param videos\n   * @param cb\n   */\n  function setVideos( videos, cb ) {\n    _videos = videos.filter(( video ) => {\n      return video.id;\n    });\n    cb();\n  }\n\n  /**\n   *\n   * @returns {*}\n   */\n  function getVideo() {\n    return _video;\n  }\n\n  /**\n   *\n   * @param video\n   */\n  function setVideo( video ) {\n    getVideos().forEach(( video ) => {\n      video.active = false;\n    });\n    video.active = true;\n    video.src = YOUTUBE_URL + video.id.videoId;\n    _video = video;\n  }\n\n  /**\n   *\n   * @param video\n   */\n  function getVotes( video ) {\n    if( video.statistics ) return;\n    $http.get(VIDEO_API, {\n      params: {\n        id    : video.id.videoId,\n        part  : 'statistics',\n        fields: 'items/statistics/likeCount,items/statistics/dislikeCount',\n        key   : API_KEY\n      }\n    }).then(( res ) => {\n      video.statistics = res.data.items[0].statistics;\n    });\n\n  }\n\n  return {\n    getVideos   : getVideos,\n    setVideos   : setVideos,\n    getVideo    : getVideo,\n    setVideo    : setVideo,\n    searchVideos: searchVideos,\n    getVotes    : getVotes\n  }\n\n}\n\n\n","export default (app) => {\n  require('./youtube.directive')(app);\n}\n\n","export default ( app ) => {\n  // @ngInject\n  app.directive('youtube', () => {\n    return {\n      templateUrl: 'app/youtube/views/youtube.tpl.html',\n      scope      : {},\n      transclude : true\n    };\n\n  });\n\n}","export default (app) => {\n  require('./youtubeList.directive')(app);\n}\n\n","export default ( app ) => {\n  // @ngInject\n  app.directive('youtubeList', ( youtubeFactory ) => {\n    return {\n      templateUrl: 'app/youtubeList/views/youtubeList.tpl.html',\n      scope      : {},\n      link       : link\n    };\n\n    function link( scope ) {\n\n      scope.youtubeFactory = youtubeFactory;\n\n      /**\n       * Set the video\n       * @param video\n       */\n      scope.setVideo = ( video ) => {\n        scope.youtubeFactory.setVideo(video);\n      }\n\n      /**\n       * Get video votes\n       * @param video\n       */\n      scope.getVotes = ( video ) => {\n        scope.youtubeFactory.getVotes(video);\n      }\n    }\n\n  });\n\n}","export default (app) => {\n  require('./youtubeSearch.directive')(app);\n}\n\n","export default ( app ) => {\n  // @ngInject\n  app.directive('youtubeSearch', ( youtubeFactory ) => {\n    return {\n      templateUrl: 'app/youtubeSearch/views/youtubeSearch.tpl.html',\n      scope      : {},\n      link       : link\n    };\n\n    function link( scope ) {\n\n      let query;\n\n      /**\n       * Search video\n       */\n      scope.searchVideos = function() {\n        if( scope.search && scope.search !== query ) {\n          query = scope.search;\n          scope.searchEmpty = false;\n          youtubeFactory.searchVideos(scope.search);\n        } else if( !scope.search ) {\n          scope.searchEmpty = true;\n        }\n      }\n    }\n  });\n\n}","export default (app) => {\n  require('./youtubeVideo.directive')(app);\n}\n\n","export default ( app ) => {\n  // @ngInject\n  app.directive('youtubeVideo', ( youtubeFactory, $sce ) => {\n    return {\n      templateUrl: 'app/youtubeVideo/views/youtubeVideo.tpl.html',\n      scope      : {},\n      link       : link\n    };\n\n    function link( scope, el ) {\n\n      scope.youtubeFactory = youtubeFactory;\n\n      /**\n       *\n       * @param src\n       * @returns {*}\n       */\n      scope.trustSrc = function( src ) {\n        return $sce.trustAsResourceUrl(src);\n      }\n\n      /**\n       * When the video change need to show loading icon\n       * and when the iframe finish to load remove the icon\n       */\n      scope.$watch(() => {\n        return youtubeFactory.getVideo();\n      }, ( newVal ) => {\n        if( newVal ) {\n          scope.waitMe = true;\n          el.find('iframe').on('load', () => {\n            scope.$apply(() => {\n              scope.waitMe = false;\n            })\n          });\n        }\n      });\n\n    }\n\n  });\n\n}"]}